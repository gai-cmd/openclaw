# 칸반차트 프로젝트 요구사항 정의서

> 버전: v2.0 | 최종 수정: 2026-02-11 | 작성: 나래(CS) + 이레(PO)
> 관련 문서: 칸반차트_시스템_설계서.md, 칸반차트_데이터_스키마_설계서.md

---

## 1. 프로젝트 개요

칸반차트 프로젝트는 내부 프로젝트의 기획부터 배포까지 전 과정을 **Phase(단계) × Domain(영역) × Gate(검증)** 3축 체계로 관리하고, 칸반 보드를 통해 실시간 진척사항을 시각화하는 자체 프로젝트 관리 시스템입니다. SaaS 도구 없이 자체 인프라로 구축하며, 5명의 AI 에이전트가 직접 Task를 생성/업데이트합니다.

### 1.1 핵심 원칙
- **자체 구축**: 외부 SaaS 의존 없이 우리 서버에서 운영
- **AI 에이전트 네이티브**: 봇 명령어로 Task CRUD, 자동 상태 업데이트
- **Stage-Gate 검증**: 각 Phase 종료 시 AI 검증 → PO 승인 관문
- **실시간 추적**: API/토큰 소모량, 팀원 워크로드 실시간 모니터링

---

## 2. 주요 요구사항

### 2.1 칸반 보드 시각화

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-01 | 6컬럼 칸반 보드 (Backlog/To Do/In Progress/Review/Done/Blocked) | Critical | Phase 1 |
| R-02 | Task 카드에 담당자, 마감일, 진행률, 우선순위 표시 | Critical | Phase 1 |
| R-03 | 프로젝트/Phase/Domain/담당자/우선순위별 필터링 | High | Phase 2 |
| R-04 | 드래그 앤 드롭으로 Task 상태 변경 | Medium | Phase 2 |
| R-05 | 텔레그램 텍스트 기반 칸반 보드 뷰 (`/board` 명령어) | Critical | Phase 1 |

### 2.2 프로젝트 관리 체계

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-06 | 5단계 Phase 체계 (P0기획→P1설계→P2개발→P3검증→P4운영) | Critical | Phase 1 |
| R-07 | 8개 Domain 분류 (DOC/UI/FE/BE/DB/QA/OPS/MKT) | Critical | Phase 1 |
| R-08 | Task ID 자동 생성 (`KAN-P2FE-001` 형식) | Critical | Phase 1 |
| R-09 | Stage Gate 검증 (AI 자동검증 → PO 최종승인) | High | Phase 3 |
| R-10 | 다중 프로젝트 지원 (KAN/FXT/LIO/TRL/CRM) | High | Phase 1 |

### 2.3 AI 에이전트 연동

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-11 | 텔레그램 봇 명령어: `/task create/update/list/view` | Critical | Phase 1 |
| R-12 | 에이전트 작업 시작 시 자동 `in_progress` 변경 | High | Phase 3 |
| R-13 | 산출물 생성 시 `output_files`에 자동 경로 추가 | Medium | Phase 3 |
| R-14 | PO 오케스트레이션: 사용자 요청 분석 → Task 생성/분배 | High | Phase 3 |
| R-15 | `/gate` 명령어로 Phase 관문 검증 요청 | High | Phase 3 |

### 2.4 팀원 스케줄 및 워크로드 관리

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-16 | 에이전트별 현재 할당 Task 수 및 워크로드 표시 | High | Phase 2 |
| R-17 | 캘린더 뷰 (마감일 기반) | Low | Phase 4 |
| R-18 | 마감일/블로커 알림 시스템 | Low | Phase 4 |

### 2.5 API/토큰 소모량 추적

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-19 | LLM 호출 시 provider/model/토큰수/비용 자동 기록 | High | Phase 3 |
| R-20 | 에이전트별 일별/주별/월별 사용량 집계 | High | Phase 3 |
| R-21 | 실시간 사용량 대시보드 위젯 | Medium | Phase 2 |

### 2.6 대시보드

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-22 | 프로젝트별 Phase 진행률 바 | High | Phase 2 |
| R-23 | Stage Gate 통과 현황 | Medium | Phase 2 |
| R-24 | 최근 활동 타임라인 | Medium | Phase 2 |
| R-25 | `/dashboard` 텔레그램 명령어 | Medium | Phase 2 |

### 2.7 데이터베이스 및 백엔드

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-26 | PostgreSQL + Drizzle ORM 기반 DB 스키마 | Critical | Phase 1 |
| R-27 | 5개 테이블: projects, tasks, stage_gates, activity_log, api_usage | Critical | Phase 1 |
| R-28 | Task CRUD REST API (Hono) | Critical | Phase 1 |
| R-29 | 실시간 업데이트 (WebSocket 또는 SSE) | Medium | Phase 3 |

### 2.8 배포 및 접근성

| # | 요구사항 | 우선순위 | 비고 |
|---|---------|---------|------|
| R-30 | 웹 기반 대시보드 (React + TypeScript) | High | Phase 2 |
| R-31 | 기존 서버 인프라 활용 배포 | High | Phase 2 |
| R-32 | 사용자 인증 (기본 수준) | Low | Phase 4 |

---

## 3. 기술 스택

| 구성요소 | 기술 | 비고 |
|----------|------|------|
| 프론트엔드 | React + TypeScript | 칸반 보드 UI (Phase 2) |
| 상태관리 | Zustand | 경량 상태 관리 |
| 백엔드 | Hono (기존 서버 확장) | REST API |
| 데이터베이스 | Drizzle ORM + PostgreSQL | 기존 인프라 활용 |
| 실시간 | WebSocket 또는 SSE | 보드 실시간 업데이트 (Phase 3) |
| 텔레그램 연동 | Grammy (기존) | 봇 명령어 처리 |

---

## 4. 구현 로드맵

### Phase 1: 기반 구축 (우선 — 현재 단계)
- [ ] DB 스키마 생성 (Drizzle ORM) → `칸반차트_데이터_스키마_설계서.md` 기반
- [ ] Task CRUD API 구현 (Hono REST)
- [ ] 텔레그램 봇 명령어 (`/task create/update/list/view`, `/board`)
- [ ] Task ID 자동 생성 로직
- [ ] 기본 칸반 보드 텍스트 뷰 (텔레그램 내)

### Phase 2: 웹 대시보드
- [ ] React 칸반 보드 UI (6컬럼)
- [ ] 드래그 앤 드롭 Task 이동
- [ ] 필터링/검색 기능
- [ ] 프로젝트 대시보드 위젯 (진행률, 워크로드, 활동)
- [ ] `/dashboard` 텔레그램 명령어

### Phase 3: 자동화 & 추적
- [ ] 에이전트 자동 Task 상태 업데이트 연동
- [ ] API/토큰 사용량 추적 미들웨어
- [ ] Stage Gate 자동 검증 (AI → PO)
- [ ] 실시간 WebSocket/SSE 업데이트
- [ ] PO 오케스트레이션 연동

### Phase 4: 고도화
- [ ] 캘린더 뷰 (마감일 기반)
- [ ] 리포트 자동 생성
- [ ] 알림 시스템 (마감일, 블로커)
- [ ] 성과 분석 대시보드
- [ ] 사용자 인증 기능

---

## 5. 기대효과

- **실시간 가시성**: 프로젝트 진행 상황과 팀원 업무 현황을 한눈에 파악
- **체계적 관리**: Phase × Domain × Gate 3축 체계로 누락 없는 작업 추적
- **비용 절감**: SaaS 도구 비용 없이 자체 인프라로 운영
- **AI 네이티브**: 에이전트가 직접 Task를 관리하여 수동 업데이트 불필요
- **데이터 기반 의사결정**: API 사용량, 진행률 데이터로 객관적 판단

---

## 6. 관련 산출물

| 문서 | 파일명 | 상태 |
|------|--------|------|
| 시스템 설계서 | `칸반차트_시스템_설계서.md` | v1.0 완료 |
| 데이터 스키마 설계서 | `칸반차트_데이터_스키마_설계서.md` | v1.0 완료 |
| 요구사항 정의서 | `칸반차트_프로젝트_요구사항_정의서.md` | v2.0 완료 (본 문서) |

---

> 이 문서를 기준으로 프로젝트의 진척 사항을 관리하고 각 Phase별 산출물을 검증합니다.
